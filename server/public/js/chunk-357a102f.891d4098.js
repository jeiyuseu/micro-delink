(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-357a102f"],{"3be1":function(t,e,i){"use strict";i("7644")},5124:function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("card",[i("div",{attrs:{slot:"card-title"},slot:"card-title"},[t._v("Clients")]),i("div",{attrs:{slot:"card-button"},slot:"card-button"}),i("div",{attrs:{slot:"card-text"},slot:"card-text"},[i("custom-dialog",{attrs:{modal:t.dialog,width:t.maxWidth}},[i("div",{attrs:{slot:"modal-title"},slot:"modal-title"},[t._v(" Add New Client ")]),i("div",{attrs:{slot:"modal-text"},slot:"modal-text"},[i("v-form",{ref:"formClient",on:{submit:function(e){return e.preventDefault(),t.addClient(e)}}},[i("v-container",[i("v-row",[i("v-col",{attrs:{cols:"4"}},[i("v-text-field",{attrs:{label:"* First Name",name:"firstName",required:"","prepend-inner-icon":"mdi-account",autocomplete:"off",rules:[function(){return!!t.clientForm.firstName||"First name is required!"}]},model:{value:t.clientForm.firstName,callback:function(e){t.$set(t.clientForm,"firstName","string"===typeof e?e.trim():e)},expression:"clientForm.firstName"}})],1),i("v-col",{attrs:{cols:"4"}},[i("v-text-field",{attrs:{label:"* Last Name",name:"lastName",required:"","prepend-inner-icon":"mdi-account",autocomplete:"off",rules:[function(){return!!t.clientForm.lastName||"Last name is required!"}]},model:{value:t.clientForm.lastName,callback:function(e){t.$set(t.clientForm,"lastName","string"===typeof e?e.trim():e)},expression:"clientForm.lastName"}})],1),i("v-col",{attrs:{cols:"4"}},[i("v-text-field",{attrs:{label:"* Middle Initial",required:"","prepend-inner-icon":"mdi-account",autocomplete:"off",rules:[function(t){return t.length<=3||"Maximum of two letters only with a (.) at the end"},function(t){return!!t||"Middle Initial is required!"},function(t){return/^[A-Za-z]{1,2}(\.{1,1})$/.test(t)||"Must contain a (.)"}]},model:{value:t.clientForm.middleInitial,callback:function(e){t.$set(t.clientForm,"middleInitial","string"===typeof e?e.trim():e)},expression:"clientForm.middleInitial"}})],1)],1),i("v-row",[i("v-col",{attrs:{cols:"4"}},[i("v-menu",{ref:"menu",attrs:{"close-on-content-click":!1,transition:"scale-transition","offset-y":"","max-width":"290px","min-width":"auto"},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on,a=e.attrs;return[i("v-text-field",t._g(t._b({attrs:{label:"Birthday",name:"birthdate",readonly:"","prepend-inner-icon":"mdi-calendar",autocomplete:"off",required:""},model:{value:t.clientForm.birthdate,callback:function(e){t.$set(t.clientForm,"birthdate","string"===typeof e?e.trim():e)},expression:"clientForm.birthdate"}},"v-text-field",a,!1),n))]}}]),model:{value:t.dateMenu,callback:function(e){t.dateMenu="string"===typeof e?e.trim():e},expression:"dateMenu"}},[i("v-date-picker",{attrs:{"no-title":"",scrollable:""},model:{value:t.clientForm.birthdate,callback:function(e){t.$set(t.clientForm,"birthdate","string"===typeof e?e.trim():e)},expression:"clientForm.birthdate"}},[i("v-spacer"),i("div",{staticClass:"justify-end"},[i("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(e){t.menu=!1}}},[t._v(" Cancel ")]),i("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(e){return t.$refs.menu.save(t.date)}}},[t._v(" OK ")])],1)],1)],1)],1),i("v-col",{attrs:{cols:"4"}},[i("v-text-field",{attrs:{label:"Contact No.",autocomplete:"off",required:"","prepend-inner-icon":"mdi-phone",type:"number"},model:{value:t.clientForm.contactNo,callback:function(e){t.$set(t.clientForm,"contactNo",t._n("string"===typeof e?e.trim():e))},expression:"clientForm.contactNo"}})],1),i("v-col",{attrs:{cols:"4"}},[i("v-textarea",{attrs:{rows:"1",label:"* Address",autocomplete:"off",name:"address","prepend-inner-icon":"mdi-map-marker",rules:[function(){return!!t.clientForm.address||"Address is required!"}]},model:{value:t.clientForm.address,callback:function(e){t.$set(t.clientForm,"address","string"===typeof e?e.trim():e)},expression:"clientForm.address"}})],1)],1)],1),i("v-card-actions",{staticClass:"justify-end"},[i("v-btn",{attrs:{color:"primary darken-1",text:""},on:{click:function(e){t.dialog=!t.dialog,t.$refs.formClient.reset()}}},[t._v(" Close ")]),i("v-btn",{attrs:{color:"primary darken-1",disabled:t.btnAddClient,loading:t.btnAddClient,type:"submit",text:""}},[t._v(" Add ")])],1)],1)],1)]),i("custom-dialog",{attrs:{modal:t.dialogDelete,width:"290px"}},[i("div",{attrs:{slot:"modal-title"},slot:"modal-title"},[t._v("Delete "+t._s(t.dialogInfoDelete.name)+"?")]),i("div",{attrs:{slot:"modal-text"},slot:"modal-text"},[t._v(t._s(t.dialogInfoDelete.name)+" is deleted...")]),i("div",{staticClass:"text-right",attrs:{slot:"modal-action"},slot:"modal-action"},[i("v-spacer"),i("v-btn",{attrs:{color:"red darken-1",text:""},on:{click:function(e){e.stopPropagation(),t.dialogDelete=!1}}},[t._v("Cancel")]),i("v-btn",{staticClass:"font-weight-black",attrs:{color:"red darken-2",loading:t.btnDeleteClient,text:""},on:{click:t.deleteClient}},[t._v("Delete")])],1)]),i("custom-dialog",{attrs:{modal:t.dialogEdit,width:t.maxWidth}},[i("div",{attrs:{slot:"modal-title"},slot:"modal-title"},[t._v("Edit")]),i("div",{attrs:{slot:"modal-text"},slot:"modal-text"},[i("v-form",{ref:"formClientEdit",on:{submit:function(e){return e.preventDefault(),t.editClient(e)}}},[i("v-container",[i("v-row",[i("v-col",{attrs:{cols:"4"}},[i("v-text-field",{attrs:{label:"* First Name",name:"firstName",required:"","prepend-inner-icon":"mdi-account",autocomplete:"off",rules:[function(){return!!t.dialogInfoEdit.firstName||"First name is required!"}]},model:{value:t.dialogInfoEdit.firstName,callback:function(e){t.$set(t.dialogInfoEdit,"firstName","string"===typeof e?e.trim():e)},expression:"dialogInfoEdit.firstName"}})],1),i("v-col",{attrs:{cols:"4"}},[i("v-text-field",{attrs:{label:"* Last Name",name:"lastName",required:"","prepend-inner-icon":"mdi-account",autocomplete:"off",rules:[function(){return!!t.dialogInfoEdit.lastName||"Last name is required!"}]},model:{value:t.dialogInfoEdit.lastName,callback:function(e){t.$set(t.dialogInfoEdit,"lastName","string"===typeof e?e.trim():e)},expression:"dialogInfoEdit.lastName"}})],1),i("v-col",{attrs:{cols:"4"}},[i("v-text-field",{attrs:{label:"* Middle Initial",required:"","prepend-inner-icon":"mdi-account",autocomplete:"off",rules:[function(t){return t.length<=3||"Maximum of two letters only with a (.) at the end"},function(t){return!!t||"Middle Initial is required!"},function(t){return/^[A-Za-z]{1,2}(\.{1,1})$/.test(t)||"Must contain a (.)"}]},model:{value:t.dialogInfoEdit.middleInitial,callback:function(e){t.$set(t.dialogInfoEdit,"middleInitial","string"===typeof e?e.trim():e)},expression:"dialogInfoEdit.middleInitial"}})],1)],1),i("v-row",[i("v-col",{attrs:{cols:"4"}},[i("v-menu",{ref:"menu",attrs:{"close-on-content-click":!1,transition:"scale-transition","offset-y":"","max-width":"290px","min-width":"auto"},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on,a=e.attrs;return[i("v-text-field",t._g(t._b({attrs:{label:"Birthday",name:"birthdate",readonly:"","prepend-inner-icon":"mdi-calendar",autocomplete:"off",required:""},model:{value:t.dialogInfoEdit.birthdate,callback:function(e){t.$set(t.dialogInfoEdit,"birthdate","string"===typeof e?e.trim():e)},expression:"dialogInfoEdit.birthdate"}},"v-text-field",a,!1),n))]}}]),model:{value:t.dateMenu,callback:function(e){t.dateMenu="string"===typeof e?e.trim():e},expression:"dateMenu"}},[i("v-date-picker",{attrs:{"no-title":"",scrollable:""},model:{value:t.dialogInfoEdit.birthdate,callback:function(e){t.$set(t.dialogInfoEdit,"birthdate","string"===typeof e?e.trim():e)},expression:"dialogInfoEdit.birthdate"}},[i("v-spacer"),i("div",{staticClass:"justify-end"},[i("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(e){t.menu=!1}}},[t._v(" Cancel ")]),i("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(e){return t.$refs.menu.save(t.date)}}},[t._v(" OK ")])],1)],1)],1)],1),i("v-col",{attrs:{cols:"4"}},[i("v-text-field",{attrs:{label:"Contact No.",autocomplete:"off",required:"","prepend-inner-icon":"mdi-phone",type:"number"},model:{value:t.dialogInfoEdit.contactNo,callback:function(e){t.$set(t.dialogInfoEdit,"contactNo",t._n("string"===typeof e?e.trim():e))},expression:"dialogInfoEdit.contactNo"}})],1),i("v-col",{attrs:{cols:"4"}},[i("v-textarea",{attrs:{rows:"1",label:"* Address",autocomplete:"off",name:"address","prepend-inner-icon":"mdi-map-marker",rules:[function(){return!!t.dialogInfoEdit.address||"Address is required!"}]},model:{value:t.dialogInfoEdit.address,callback:function(e){t.$set(t.dialogInfoEdit,"address","string"===typeof e?e.trim():e)},expression:"dialogInfoEdit.address"}})],1)],1)],1),i("v-card-actions",{staticClass:"justify-end"},[i("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(e){t.dialogEdit=!1}}},[t._v("Cancel")]),i("v-btn",{staticClass:"font-weight-black",attrs:{color:"blue darken-2",loading:t.btnEditClient,type:"submit",text:""}},[t._v("Edit")])],1)],1)],1)])],1),i("div",{attrs:{slot:"card-text"},slot:"card-text"},[i("v-card",[i("v-card-text",[i("v-row",[i("v-col",{attrs:{cols:"12"}},[i("v-btn",{attrs:{color:"blue",outlined:"",rounded:""},on:{click:function(e){e.stopPropagation(),t.dialog=!0}}},[i("v-icon",{attrs:{dark:"",left:""}},[t._v(" mdi-plus ")]),t._v(" Add Client ")],1)],1)],1)],1)],1),i("v-card-title",[i("v-text-field",{attrs:{"prepend-inner-icon":"mdi-magnify",label:"Search...","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search="string"===typeof e?e.trim():e},expression:"search"}})],1),i("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.CLIENT_GETT_DATA.clients,"items-per-page":10,"footer-props":{"items-per-page-options":[10,20,30]},"item-key":"id","server-items-length":t.CLIENT_GETT_DATA.totalItems,options:t.setOptions,loading:t.loading,"loading-text":"Loading... Please wait"},on:{"update:options":function(e){t.setOptions=e}},scopedSlots:t._u([{key:"item",fn:function(e){var n=e.item;return[i("tr",[i("td",[t._v(" "+t._s((n.firstName+" "+n.lastName+" "+n.middleInitial).toUpperCase())+" ")]),i("td",[t._v(" "+t._s(n.loanCycle||0)+" ")]),i("td",[t._v(" "+t._s(n.address.toUpperCase())+" ")]),i("td",[i("v-btn",{attrs:{color:"error",icon:""},on:{click:function(e){return t.deleteClientInfo(n)}}},[i("v-icon",[t._v("mdi-delete")])],1),i("v-btn",{attrs:{color:"warning",icon:""},on:{click:function(e){return t.editClientInfo(n)}}},[i("v-icon",[t._v("mdi-pencil")])],1)],1)])]}}])})],1)])],1)},a=[],o=(i("99af"),i("b0c0"),i("96cf"),i("1da1")),r=i("5530"),l=i("ae8d"),s=i("3f7a"),c=i("2f62"),d={name:"Clients",data:function(){var t=this;return{dateMenu:!1,dialog:!1,dialogDelete:!1,dialogInfoDelete:{id:"",name:""},dialogInfoEdit:{firstName:"",lastName:"",middleInitial:"",birthdate:"",contactNo:"",address:""},dialogEdit:!1,maxWidth:"800px",clients:[],search:"",loading:!1,waitSearch:!1,btnAddClient:!1,error:"",btnDeleteClient:!1,btnEditClient:!1,clientUuid:"",clientForm:{firstName:"",lastName:"",middleInitial:"",birthdate:"",contactNo:"",address:""},rules:{middleInitial:function(e){var i=/^[A-Za-z]{1,2}(\.{1,1})$/;return""==e?t.value||"Middle Initial is required!":i.test(e)||"Must contain a (.)"}},headers:[{text:"Client Name",align:"start",sortable:!0},{text:"Loan Cycle",align:"start"},{text:"Address",align:"start"},{text:"Action",align:"start"}]}},components:{Card:l["a"],CustomDialog:s["a"]},computed:Object(r["a"])(Object(r["a"])({},Object(c["c"])({CLIENT_GETT_DATA:"clients/CLIENT_GETT_DATA",CLIENT_GETT_OPTIONS:"clients/CLIENT_GETT_OPTIONS"})),{},{setOptions:{get:function(){return this.CLIENT_GETT_OPTIONS},set:function(t){this.$store.commit("clients/CLIENT_SET_OPTIONS",t)}}}),methods:Object(r["a"])(Object(r["a"])({},Object(c["b"])({CLIENT_GET_DATA:"clients/CLIENT_GET_DATA",CLIENT_GET_DATA_ALL:"clients/CLIENT_GET_DATA_ALL",CLIENT_INSERT_DATA:"clients/CLIENT_INSERT_DATA",CLIENT_DELETE:"clients/CLIENT_DELETE",CLIENT_UPDATE:"clients/CLIENT_UPDATE"})),{},{addClient:function(){var t=this;this.$refs.formClient.validate()&&(this.btnAddClient=!0,this.CLIENT_INSERT_DATA(this.clientForm).then(Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.btnAddClient=!1,t.dialog=!1,e.next=4,t.CLIENT_GET_DATA();case 4:return e.next=6,t.CLIENT_GET_DATA_ALL();case 6:t.$toast.success("".concat(t.clientForm.firstName," ").concat(t.clientForm.middleInitial," ").concat(t.clientForm.lastName," is added!").toUpperCase()),t.$refs.formClient.reset();case 8:case"end":return e.stop()}}),e)})))).catch((function(e){t.btnAddClient=!1,t.$toast.error("".concat(t.clientForm.firstName," ").concat(t.clientForm.middleInitial," ").concat(t.clientForm.lastName," is exist!").toUpperCase())})))},deleteClientInfo:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.dialogInfoDelete.name=(e.firstName+" "+e.lastName).toLocaleLowerCase(),this.dialogInfoDelete.id=e.uuid,this.dialogDelete=!0;case 3:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),editClientInfo:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.dialogInfoEdit.id=e.uuid,this.dialogInfoEdit.firstName=e.firstName,this.dialogInfoEdit.lastName=e.lastName,this.dialogInfoEdit.middleInitial=e.middleInitial,this.dialogInfoEdit.birthdate=e.birthdate,this.dialogInfoEdit.contactNo=e.contactNo,this.dialogInfoEdit.address=e.address,this.dialogEdit=!0;case 8:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),editClient:function(){var t=this;this.$refs.formClientEdit.validate()&&(this.btnEditClient=!0,this.CLIENT_UPDATE(this.dialogInfoEdit).then(function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(i){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=i.data,t.$toast.success(n.msg),t.btnEditClient=!1,t.dialogEdit=!1,e.next=6,t.CLIENT_GET_DATA();case 6:return e.next=8,t.CLIENT_GET_DATA_ALL();case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){t.btnEditClient=!1,console.log(e),t.$toast.error("Something went wrong...")})))},deleteClient:function(){var t=this;this.btnDeleteClient=!0,this.CLIENT_DELETE(this.dialogInfoDelete.id).then(function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(i){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=i.data,t.$toast.success(n.msg),t.btnDeleteClient=!1,t.dialogDelete=!1,e.next=6,t.CLIENT_GET_DATA();case 6:return e.next=8,t.CLIENT_GET_DATA_ALL();case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){t.btnDeleteClient=!1,console.log(e),t.$toast.error("Something went wrong...")}))}}),mounted:function(){var t=this;0===this.CLIENT_GETT_DATA.length&&(this.loading=!0,this.$Progress.start(),this.CLIENT_GET_DATA().then((function(){t.$Progress.finish(),t.loading=!1})).catch((function(e){t.loading=!1,console.log(e),t.$toast.error("Something went wrong..."),t.$Progress.fail()})))},watch:{options:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:0!==this.CLIENT_GETT_DATA.length&&(this.loading=!0,this.CLIENT_GET_DATA().then((function(){e.loading=!1})).catch((function(t){console.log(t),e.$toast.error("Something went wrong..."),e.$Progress.fail()})));case 1:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),search:function(t){var e=this;this.$store.commit("clients/CLIENT_SET_SEARCH",t),this.loading=!0,this.waitSearch||(setTimeout(Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.CLIENT_GET_DATA();case 2:e.waitSearch=!1,e.loading=!1;case 4:case"end":return t.stop()}}),t)}))),2e3),this.waitSearch=!0)}}},u=d,m=(i("3be1"),i("2877")),f=Object(m["a"])(u,n,a,!1,null,"4103b6c8",null);e["default"]=f.exports},7644:function(t,e,i){}}]);
//# sourceMappingURL=chunk-357a102f.891d4098.js.map